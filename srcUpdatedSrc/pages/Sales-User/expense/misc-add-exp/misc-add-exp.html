<!--
  Generated template for the PromotionAddExpPage page.
  
  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="catalogue-header">
  
  <ion-navbar>
    <ion-title>Misc Expense</ion-title>
    <ion-buttons end class="login-btn" (click)="MiscAddList()">
      <button ion-button class="notifications">
        <img class="w35" src="assets/icons/list.svg">
        <span class="counter">{{expenseCartArr['Misc Expense'] && expenseCartArr['Misc Expense'].length ? expenseCartArr['Misc Expense'].length : 0}}</span>
      </button>
    </ion-buttons>
  </ion-navbar>
  
</ion-header>


<ion-content>
  
  <form id="miscForm" [formGroup]="miscForm">
    
    <div class="first step-2 ul-clear">
      <div class="cs-form m16">
        
        <div>
          <label>Nature Expense</label>
          <ion-item class="form-field">
            <ion-select formControlName="miscActivityType" [(ngModel)]="miscData.miscActivityType"   >
              <ion-option *ngFor="let row of natureExpenseArr" [value]="row.typeId">{{row.name}}</ion-option>
            </ion-select>
          </ion-item>
          
          <p *ngIf="miscForm.get('miscActivityType').hasError('required') && miscForm.get('miscActivityType').touched" class="error-left relative">Nature Expense required!</p>
        </div>
        
        <div>
          <label>Date</label>
          <ion-item class="form-field">
            <ion-datetime formControlName="date" [(ngModel)]="miscData.date" displayFormat="MMM DD, YYYY" [max]="todayDate"></ion-datetime>
          </ion-item>
          
          <p *ngIf="miscForm.get('date').hasError('required') && miscForm.get('date').touched" class="error-left relative">Date required!</p>
        </div>
        
        <div>
          <label>Place Of Expense</label>
          <ion-item class="form-field">
            <ion-input type="text" formControlName="placeOfExpense" [(ngModel)]="miscData.placeOfExpense" ></ion-input>
          </ion-item>
          
          <p *ngIf="miscForm.get('placeOfExpense').hasError('required') && miscForm.get('placeOfExpense').touched" class="error-left relative">Place Expense required!</p>
          
          <p *ngIf="miscForm.get('placeOfExpense').hasError('minlength') && miscForm.get('placeOfExpense').touched"  class="error-left relative">Place Expense must be atleast 3 Letters!</p>
        </div>
        
        <div>
          <label>Name Of Beneficiaries</label>
          <ion-item class="form-field">
            <ion-input type="text" formControlName="nameOfBeneficiary" [(ngModel)]="miscData.nameOfBeneficiary" ></ion-input>
          </ion-item>
          
          <p *ngIf="miscForm.get('nameOfBeneficiary').hasError('required') && miscForm.get('nameOfBeneficiary').touched" class="error-left relative">Beneficiary Name required!</p>
          
          <p *ngIf="miscForm.get('nameOfBeneficiary').hasError('minlength') && miscForm.get('nameOfBeneficiary').touched"  class="error-left relative">Name must be atleast 3 Letters!</p>
        </div>
        
        <div>
          <label>Amount</label>
          <ion-item class="form-field">
            <ion-input type="number" formControlName="amount" [(ngModel)]="miscData.amount" ></ion-input>
          </ion-item>
          
          <p *ngIf="miscForm.get('amount').hasError('required') && miscForm.get('amount').touched" class="error-left relative">Amount required!</p>
          
          <p *ngIf="miscForm.get('amount').hasError('minlength') && miscForm.get('amount').touched"  class="error-left relative">Amount must be atleast 1 Digit!</p>
        </div>
        
        <div>
          <label>Tax</label>
          <ion-item class="form-field">
            <ion-input type="number" formControlName="tax" [(ngModel)]="miscData.tax" ></ion-input>
          </ion-item>
        </div>
        
        <div>
          <label>Remark</label>
          <ion-item class="form-field">
            <ion-textarea formControlName="remarks" [(ngModel)]="miscData.remarks"></ion-textarea>
          </ion-item>
        </div>
      
      </div>
    </div>
    
  </form>
</ion-content>


<ion-footer padding>
  <div class="cs-btn border-none  right-btn">
    <button class="wp100" (click)="onSaveHandler()" ion-button color="secondary" round>Add To List</button>
  </div>
</ion-footer>
